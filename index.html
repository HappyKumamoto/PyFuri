<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>気象情報</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href=" weather.css" />
  <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
  <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
  <py-env>
    -pandas
    -matplotlib
  </py-env>
</head>
  
<body>
<h1>本日の気象情報</h1>
<div id="precipitation"></div>
<py-script output ="precipitation">
import pandas as pd
import matplotlib.pyplot as plt

the_url = 'https://www.data.jma.go.jp/stats/data/mdrr/pre_rct/alltable/predaily00_rct.csv'

df = pd.read_csv(
    the_url,
    encoding = 'sjis')

header_day = str(df['現在時刻(日)'][0]) + "日の値(mm)"
plt.scatter(df['観測所番号'], df[header_day])
</py-script>
  
</body>
</html>
